<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canvas</title>
    <style>
        * {margin: 0; padding: 0;}
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    
    
    <script type="text/javascript" src="../assets2/js/jquery-1.12.4.min.js"></script>
    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        var bgImage = new Image();
        bgImage.src = "https://steamuserimages-a.akamaihd.net/ugc/780658586478492921/694B16D99031AB6EB094B130F3522520379BB98E/";
        
        var fighterImage = new Image();
        fighterImage.src = "img/a.png"
        
        var x = 0;
        var speed = 5;
        var keyCodeValue;
        
        function Backgorund(){
            this.x = 0, 
            this.y = 0,
            this.w = bgImage.width,
            this.h = bgImage.height;
            this.render = function(){
                ctx.drawImage(bgImage, this.x--, 0);
            
                if(x <= -500){
                    x = 0;
                }
            }
        };
        
        function Player(){
            this.x = 0, 
            this.y = 0,
            this.w = fighterImage.width,
            this.h = fighterImage.height;
            this.render = function(){
                ctx.drawImage(fighterImage, this.x, this.y);
            };
        }

        var background = new Backgorund();
        var player = new Player();
        
        player.x = 30;
        player.y = 150;
        
        function animate(){
            background.render();
            player.render();
            update();
        }
        var animationInterval = setInterval(animate, 30);
        
        function update(){
            if(keyCodeValue === "W"){
                player.y -= speed;
            } else if (keyCodeValue === "S"){
                player.y += speed;
            } else if (keyCodeValue === "A"){
                player.x -= speed;
            } else if (keyCodeValue === "D"){
                player.x += speed;
            }
        }
        
        $(document).keydown(function(event){
            keyCodeValue = String.fromCharCode(event.keyCode);
            console.log(event.keyCode+"|"+keyCodeValue);
        });
        
        $(document).keyup(function(event){
            keyCodeValue = "";
            
        });
        
        
    </script>
</body>
</html>